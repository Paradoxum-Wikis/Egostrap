// Display Utils
// Display related properties such as display, position, z-index, etc.

@use "variables" as *;
@use "sass:list" as list;

// Display
$display-properties:
  "block", "inline", "inline-block", "flex", "inline-flex", "grid",
  "inline-grid", "table", "table-cell", "table-row", "none";

@each $prop in $display-properties {
  .d-#{$prop} {
    display: #{$prop} !important;
  }
}

@each $name, $breakpoint in $breakpoints {
  @media (min-width: #{$breakpoint}) {
    @each $prop in $display-properties {
      .d-#{$name}-#{$prop} {
        display: #{$prop} !important;
      }
    }
  }
}

// Flexbox Alignment
$justify-content: (
  "start": flex-start,
  "end": flex-end,
  "center": center,
  "between": space-between,
  "around": space-around,
  "evenly": space-evenly,
);

$align-items: (
  "start": flex-start,
  "end": flex-end,
  "center": center,
  "baseline": baseline,
  "stretch": stretch,
);

$align-self: (
  "start": flex-start,
  "end": flex-end,
  "center": center,
  "baseline": baseline,
  "stretch": stretch,
);

$align-content: (
  "start": flex-start,
  "end": flex-end,
  "center": center,
  "between": space-between,
  "around": space-around,
  "stretch": stretch,
);

@each $key, $value in $justify-content {
  .justify-content-#{$key} {
    justify-content: $value !important;
  }
}
@each $key, $value in $align-items {
  .align-items-#{$key} {
    align-items: $value !important;
  }
}
@each $key, $value in $align-self {
  .align-self-#{$key} {
    align-self: $value !important;
  }
}
@each $key, $value in $align-content {
  .align-content-#{$key} {
    align-content: $value !important;
  }
}

// Flex Wrap
.flex-wrap {
  flex-wrap: wrap !important;
}

.flex-nowrap {
  flex-wrap: nowrap !important;
}

.flex-wrap-reverse {
  flex-wrap: wrap-reverse !important;
}

// Flex Direction
$flex-directions: (
  "row": row,
  "row-reverse": row-reverse,
  "column": column,
  "column-reverse": column-reverse,
);

@each $key, $value in $flex-directions {
  .flex-#{$key} {
    flex-direction: $value !important;
  }
}

@each $name, $breakpoint in $breakpoints {
  @media (min-width: #{$breakpoint}) {
    @each $key, $value in $flex-directions {
      .flex-#{$name}-#{$key} {
        flex-direction: $value !important;
      }
    }
  }
}

// Flex Growth
.flex-1 {
  flex: 1 1 0% !important;
}

.flex-2 {
  flex: 2 1 0% !important;
}

.flex-auto {
  flex: 1 1 auto !important;
}

.flex-initial {
  flex: 0 1 auto !important;
}

.flex-none {
  flex: none !important;
}

// Position & Z-index
$positions: "static", "relative", "absolute", "fixed", "sticky";
$z-indices: -1, 0, 1, 2, 3, 4, 5;
$position-values: 0, 50, 100;

@each $pos in $positions {
  .pos-#{$pos} {
    position: #{$pos} !important;
  }
}

@each $z in $z-indices {
  $key: if($z < 0, "n" + abs($z), $z);
  .z-#{$key} {
    z-index: #{$z} !important;
  }
}

@each $val in $position-values {
  .top-#{$val} {
    top: #{$val + "%"} !important;
  }
  .bottom-#{$val} {
    bottom: #{$val + "%"} !important;
  }
  .left-#{$val} {
    left: #{$val + "%"} !important;
  }
  .right-#{$val} {
    right: #{$val + "%"} !important;
  }
}

// Overflow
$overflows: auto, hidden, visible, scroll;
@each $o in $overflows {
  .overflow-#{$o} {
    overflow: $o !important;
  }
  .overflowx-#{$o} {
    overflow-x: $o !important;
  }
  .overflowy-#{$o} {
    overflow-y: $o !important;
  }
}

// Gap
@each $key, $val in $spacing-steps {
  .gap-#{$key} {
    gap: $val !important;
  }
}

@each $name, $breakpoint in $breakpoints {
  @media (min-width: #{$breakpoint}) {
    @each $key, $val in $spacing-steps {
      .gap-#{$name}-#{$key} {
        gap: $val !important;
      }
    }
  }
}

// Aspect Ratio
$ratios: (
  "1x1": 1 1,
  "2x1": 2 1,
  "4x3": 4 3,
  "3x2": 3 2,
  "16x9": 16 9,
  "21x9": 21 9,
  "9x16": 9 16
);

@each $key, $nums in $ratios {
  $n: list.nth($nums, 1);
  $d: list.nth($nums, 2);
  .ratio-#{$key} {
    aspect-ratio: #{$n}/#{$d} !important;
  }
}

@each $name, $breakpoint in $breakpoints {
  @media (min-width: #{$breakpoint}) {
    @each $key, $nums in $ratios {
      $n: list.nth($nums, 1);
      $d: list.nth($nums, 2);
      .ratio-#{$name}-#{$key} {
        aspect-ratio: #{$n}/#{$d} !important;
      }
    }
  }
}

// Image scalings
$img-object-fits: (
  "contain": contain,
  "cover": cover,
  "fill": fill,
  "none": none,
  "scale-down": scale-down
);

@each $key, $val in $img-object-fits {
  .img-o-#{$key} img {
    width: 100% !important;
    height: 100% !important;
    object-fit: $val !important;
  }
}

// Img display
@each $prop in $display-properties {
  .img-d-#{$prop} img {
    display: #{$prop} !important;
  }
}

// Img object positions
$object-positions: (
  "center": center,
  "top": top,
  "bottom": bottom,
  "left": left,
  "right": right,
  "top-left": left top,
  "top-right": right top,
  "bottom-left": left bottom,
  "bottom-right": right bottom
);

@each $key, $val in $object-positions {
  .img-o-pos-#{$key} img {
    object-position: $val !important;
  }
}

// Img pos
@each $pos in $positions {
  .img-pos-#{$pos} img {
    position: #{$pos} !important;
  }
}

@each $val in $position-values {
  .img-top-#{$val} img {
    top: #{$val + "%"} !important;
  }
  .img-bottom-#{$val} img {
    bottom: #{$val + "%"} !important;
  }
  .img-left-#{$val} img {
    left: #{$val + "%"} !important;
  }
  .img-right-#{$val} img {
    right: #{$val + "%"} !important;
  }
}